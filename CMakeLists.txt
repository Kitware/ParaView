PROJECT(ParaView)

CMAKE_MINIMUM_REQUIRED(VERSION 2.4.5)

IF(COMMAND CMAKE_POLICY)
  CMAKE_POLICY(SET CMP0003 NEW)
ENDIF(COMMAND CMAKE_POLICY)

IF(CMAKE_CROSSCOMPILING)
  FIND_PACKAGE(ParaView3CompileTools REQUIRED)
ENDIF(CMAKE_CROSSCOMPILING)

SET(EXPORT_EXECUTABLES_FILE "${CMAKE_BINARY_DIR}/ParaView3CompileToolsConfig.cmake")
SET(EXPORT_EXECUTABLES_NAMESPACE "")
FILE(WRITE "${EXPORT_EXECUTABLES_FILE}" "#generated by Paraview, do not edit\n")
IF("${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}" GREATER 2.5)
  # Host tools are for cross compiling, need at least cmake 2.6
  ADD_CUSTOM_TARGET(pvHostTools)
  SET(COMPILE_TOOLS_TARGET pvHostTools)
ENDIF("${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}" GREATER 2.5)

# EXPORT() will be in cmake 2.6, add an empty macro so cmake 2.4 is still able to build ParaView3
IF(NOT COMMAND EXPORT)
  MACRO(EXPORT)
  ENDMACRO(EXPORT)
ENDIF(NOT COMMAND EXPORT)

# GET_PROPERTY() will be in cmake 2.6
IF(COMMAND GET_PROPERTY)
  GET_PROPERTY(PV_TARGET_SUPPORTS_SHARED_LIBS
    GLOBAL PROPERTY TARGET_SUPPORTS_SHARED_LIBS)
ELSE(COMMAND GET_PROPERTY)
  SET(PV_TARGET_SUPPORTS_SHARED_LIBS  TRUE)
ENDIF(COMMAND GET_PROPERTY)

#########################################################################
# Clear the Plugin List text file
SET(PARAVIEW_PLUGINLIST_TXT "${ParaView_BINARY_DIR}/PluginList.txt")
FILE(WRITE ${PARAVIEW_PLUGINLIST_TXT} "")

SET(PARAVIEW_PLUGIN_CONFIG_LIST "" CACHE INTERNAL "List of configured plugins.")

#########################################################################
# Warn about ParaQ
SET(PARAVIEW_WARN_ABOUT_PARAQ)
IF(EXISTS "${ParaView_SOURCE_DIR}/CVS/Root")
  FILE(READ "${ParaView_SOURCE_DIR}/CVS/Root" paraview_cvs_root)
  IF("${paraview_cvs_root}" MATCHES ParaQ)
    SET(PARAVIEW_WARN_ABOUT_PARAQ 1)
  ENDIF("${paraview_cvs_root}" MATCHES ParaQ)
ENDIF(EXISTS "${ParaView_SOURCE_DIR}/CVS/Root")
IF("${ParaView_SOURCE_DIR}" MATCHES "ParaQ")
  SET(PARAVIEW_WARN_ABOUT_PARAQ 1)
ENDIF("${ParaView_SOURCE_DIR}" MATCHES "ParaQ")
IF(PARAVIEW_WARN_ABOUT_PARAQ)
  MESSAGE(SEND_ERROR "ParaView 3 should be checked out from ParaView3 repository. ParaQ repository is deprecated and will be removed")
ENDIF(PARAVIEW_WARN_ABOUT_PARAQ)

#########################################################################
# Disallow in-source build
IF("${ParaView_SOURCE_DIR}"  STREQUAL "${ParaView_BINARY_DIR}")
  MESSAGE(FATAL_ERROR "ParaView requires an out of source Build. Please create a separate binary directory and run CMake there.")
ENDIF("${ParaView_SOURCE_DIR}"  STREQUAL "${ParaView_BINARY_DIR}")

#########################################################################
SET(PARAVIEW_VERSION_MAJOR 3)
SET(PARAVIEW_VERSION_MINOR 7)
SET(PARAVIEW_VERSION_PATCH 0)
SET(PARAVIEW_VERSION "${PARAVIEW_VERSION_MAJOR}.${PARAVIEW_VERSION_MINOR}")
SET(PARAVIEW_VERSION_FULL "${PARAVIEW_VERSION}.${PARAVIEW_VERSION_PATCH}")

# See VTK/CMakeLists.txt for an explanation of this default selection.
IF(PARAVIEW_VERSION_MINOR MATCHES "[02468]$")
  # This is a release version.  Default to not use rpath.
  SET(VTK_USE_RPATH_DEFAULT OFF)
ELSE(PARAVIEW_VERSION_MINOR MATCHES "[02468]$")
  # This is a development version.  Default to use rpath.
  SET(VTK_USE_RPATH_DEFAULT ON)
ENDIF(PARAVIEW_VERSION_MINOR MATCHES "[02468]$")

#########################################################################
# build VTK/Qt support
OPTION(PARAVIEW_BUILD_QT_GUI "Build ParaView Qt Client. This requires Qt." ON)
IF (PARAVIEW_BUILD_QT_GUI)
  # need to set up Qt stuff here because there are Qt dependencies before
  # CMake traverses the Qt directory (VTK/GUISupport/Qt).
  
  # set vars to build the QVTK library
  SET(VTK_USE_GUISUPPORT ON CACHE BOOL "Build VTK with GUI Support" FORCE)
  SET(VTK_USE_QT ON CACHE BOOL "Build VTK with Qt Support" FORCE)
  SET(DESIRED_QT_VERSION 4 CACHE STRING "Use Qt4" FORCE)
  # ParaView requires this minimum version of Qt, and let's do it here before
  # our first call to FindQt4.cmake
  SET(QT_MIN_VERSION "4.3.0")
  SET(QT_REQUIRED TRUE)
  FIND_PACKAGE(Qt4)
  IF(NOT QT4_FOUND)
    MESSAGE(SEND_ERROR "Qt ${QT_MIN_VERSION} or greater not found.  Please check the QT_QMAKE_EXECUTABLE variable.")
  ELSE(NOT QT4_FOUND)
    # don't go greater than supported version
    STRING(REGEX MATCH "^4\\.3\\.[0-9]+" qt_version_tmp "${QTVERSION}")
    IF (NOT qt_version_tmp)
      STRING(REGEX MATCH "^4\\.[0-9]+\\.[0-9]+" qt_version4_x_tmp "${QTVERSION}")
      IF (NOT qt_version4_x_tmp)
        MESSAGE(SEND_ERROR "Qt ${QTVERSION} not supported.  Please use Qt 4.3 (you may need to clean your dirtied cache).")
      ELSE (NOT qt_version4_x_tmp)
        MESSAGE("WARNING: You are using Qt ${QTVERSION}. Officially supported version is Qt 4.3")
      ENDIF (NOT qt_version4_x_tmp)
    ENDIF (NOT qt_version_tmp)
    # enforce Carbon in VTK for Qt/Mac
    IF(Q_WS_MAC)
      SET(VTK_USE_CARBON ON CACHE BOOL "Build VTK with Carbon" FORCE)
      SET(VTK_USE_COCOA OFF CACHE BOOL "Build VTK with Cocoa" FORCE)
    ENDIF(Q_WS_MAC)
  ENDIF(NOT QT4_FOUND)
ELSE (PARAVIEW_BUILD_QT_GUI)
  SET(VTK_USE_QT OFF CACHE BOOL "Build VTK with Qt Support" FORCE)
ENDIF (PARAVIEW_BUILD_QT_GUI)
# Mark these Qt variables as advanced. Users don't really have to set them.
MARK_AS_ADVANCED(DESIRED_QT_VERSION VTK_USE_QT VTK_USE_GUISUPPORT)
MARK_AS_ADVANCED(QT_MKSPECS_DIR QT_PLUGINS_DIR QT_X11_X11_LIBRARY QT_X11_Xext_LIBRARY QT_X11_m_LIBRARY)


# Work around CMake 2.2.x FindPythonLibs bug.
# Do not find Python subdirectory as python debug library.
SET(PYTHON_DEBUG_LIBRARY "" CACHE FILEPATH "Purposely empty: work around CMake FindPythonLibs bug")
MARK_AS_ADVANCED(PYTHON_DEBUG_LIBRARY)

# Mark certain VTK variables as advanced. Users do not really have to set these.
IF (APPLE)
  MARK_AS_ADVANCED(CMAKE_OSX_ARCHITECTURES CMAKE_OSX_SYSROOT VTK_USE_CARBON VTK_USE_COCOA VTK_APPLE_RESOURCE)
ENDIF(APPLE)
MARK_AS_ADVANCED(VTK_USE_MPEG2_ENCODER QT_PLUGINS_DIR QT_MKSPECS_DIR VTK_USE_MFC)

#########################################################################
# Define a PARAVIEW_USE_MPI that is not advanced
SET(PARAVIEW_USE_MPI OFF CACHE BOOL "Build ParaView with MPI support")
SET(VTK_USE_MPI ${PARAVIEW_USE_MPI} CACHE INTERNAL "Build VTK with MPI support" FORCE)
# define this variable so that VTK_DEPENDENT_OPTION in the VTK 
# CMakeLists.txt does not turn VTK_USE_MPI back to a regular cache
# variable
# set it to PARAVIEW_USE_MPI so that VTK_USE_MPI is slaved to it.
SET(VTK_USE_MPI_ISSET ${PARAVIEW_USE_MPI})

#########################################################################
# Force Infovis support on
SET(VTK_USE_INFOVIS ON CACHE BOOL "Build VTK with Infovis Support" FORCE)
MARK_AS_ADVANCED(VTK_USE_INFOVIS)

#########################################################################
#
MARK_AS_ADVANCED(VTK_USE_N_WAY_ARRAYS)

#########################################################################
# Configure Testing
OPTION(BUILD_TESTING "Build ParaView Testing" ON)
IF(BUILD_TESTING)
  SET(PARAVIEW_TEST_DIR    ${ParaView_BINARY_DIR}/Testing/Temporary)
  MAKE_DIRECTORY(${PARAVIEW_TEST_DIR})
  ENABLE_TESTING()
  INCLUDE (CTest)
ENDIF(BUILD_TESTING)

#########################################################################
# Configure data directory
IF(NOT PARAVIEW_DATA_ROOT AND PARAQ_DATA_ROOT)
  SET(PARAVIEW_DATA_ROOT "${PARAQ_DATA_ROOT}")
ENDIF(NOT PARAVIEW_DATA_ROOT AND PARAQ_DATA_ROOT)
FIND_PATH(PARAVIEW_DATA_ROOT ParaViewData.readme
  ${ParaView_SOURCE_DIR}/ParaViewData
  ${ParaView_SOURCE_DIR}/../ParaViewData
  ${ParaView_SOURCE_DIR}/ParaQData
  ${ParaView_SOURCE_DIR}/../ParaQData
  $ENV{PARAVIEW_DATA_ROOT}
  )

#########################################################################
# Configure Python
OPTION(PARAVIEW_ENABLE_PYTHON "Enable/Disable Python scripting support." OFF)

# PARAVIEW_TESTING_WITH_PYTHON must be used only when PARAVIEW_ENABLE_PYTHON 
# is ON. If PARAVIEW_ENABLE_PYTHON is OFF, PARAVIEW_TESTING_WITH_PYTHON 
# is ignored and treated as disabled.
OPTION(PARAVIEW_TESTING_WITH_PYTHON 
    "Build Python Testing support if PARAVIEW_ENABLE_PYTHON is ON"  
    ON)
MARK_AS_ADVANCED(PARAVIEW_TESTING_WITH_PYTHON)

IF (PARAVIEW_TESTING_WITH_PYTHON AND PARAVIEW_ENABLE_PYTHON)
  SET (QT_TESTING_WITH_PYTHON ON)
ELSE (PARAVIEW_TESTING_WITH_PYTHON AND PARAVIEW_ENABLE_PYTHON)
  SET (QT_TESTING_WITH_PYTHON OFF)
ENDIF (PARAVIEW_TESTING_WITH_PYTHON AND PARAVIEW_ENABLE_PYTHON)

IF (PARAVIEW_ENABLE_PYTHON AND PV_TARGET_SUPPORTS_SHARED_LIBS)
  SET(BUILD_SHARED_LIBS ON CACHE BOOL "Build ParaView using shared libraries" FORCE)
ENDIF (PARAVIEW_ENABLE_PYTHON AND PV_TARGET_SUPPORTS_SHARED_LIBS)

IF (PARAVIEW_ENABLE_PYTHON)
  SET(VTK_WRAP_PYTHON ON CACHE INTERNAL "" FORCE)

  # ParaView python uses NewInterpretor API, which cannot be used with the
  # python's thread support API (PyGIL*). Hence, we disable all thread support.
  # No mutiple threads in paraview. Sorry.
  SET(VTK_NO_PYTHON_THREADS 1 CACHE INTERNAL "Build VTK with MPI support" FORCE)
ELSE (PARAVIEW_ENABLE_PYTHON)
  SET(VTK_WRAP_PYTHON OFF CACHE INTERNAL "" FORCE)
ENDIF (PARAVIEW_ENABLE_PYTHON)

#########################################################################
# Set the ServerManager test data dir,
SET(PVServerManagerTestData ${PARAVIEW_DATA_ROOT})

# Find hints file for the client/server wrapping
FIND_FILE(VTK_WRAP_HINTS hints ${ParaView_SOURCE_DIR}/VTK/Wrapping NO_CMAKE_FIND_ROOT_PATH)
MARK_AS_ADVANCED(VTK_WRAP_HINTS)

#########################################################################
# Any build configured headers should be added to this 
# variable so that they also get installed.
SET (dynamicHeaders)

CONFIGURE_FILE(${ParaView_SOURCE_DIR}/vtkPQConfig.h.in
  ${ParaView_BINARY_DIR}/vtkPQConfig.h
  ESCAPE_QUOTES)

SET(dynamicHeaders 
    "${dynamicHeaders};${ParaView_BINARY_DIR}/vtkPQConfig.h")

#########################################################################
#
# add directories
#
#########################################################################

#########################################################################
# Include the file that most of the environment setup (except GUI)
# It also adds the VTK directories
SET(PARAVIEW_PLUGINS_CMAKE_FILE "${ParaView_SOURCE_DIR}/CMake/ParaViewPlugins.cmake")
SET(VTK_MAKE_INSTANTIATOR       "${ParaView_SOURCE_DIR}/VTK/CMake")
SET(VTKCS_SOURCE_DIR            "${ParaView_SOURCE_DIR}/Utilities/VTKClientServer")
SET(VTKCS_CONFIG_DIR            "${ParaView_SOURCE_DIR}/Utilities/VTKClientServer/CMake")
INCLUDE(${ParaView_SOURCE_DIR}/CMake/ParaViewCommon.cmake)


#########################################################################
IF(BUILD_DOCUMENTATION)
  ADD_SUBDIRECTORY(Utilities/Doxygen)
ENDIF(BUILD_DOCUMENTATION)
ADD_SUBDIRECTORY(Documentation)

#########################################################################
IF (PARAVIEW_BUILD_QT_GUI)
  ADD_SUBDIRECTORY(Qt)
ENDIF (PARAVIEW_BUILD_QT_GUI)

#########################################################################
OPTION(BUILD_EXAMPLES "Build ParaView examples." OFF)
IF (BUILD_EXAMPLES)
  ADD_SUBDIRECTORY(Examples)
ENDIF (BUILD_EXAMPLES)

#########################################################################
# Setup CPack

INCLUDE(ParaView3CPack.cmake)

#########################################################################
# Additional definitions for ParaViewConfig.cmake
SET(PARAVIEW_USE_FILE "${ParaView_SOURCE_DIR}/ParaViewUse.cmake")
SET(PARAVIEW_VTK_DIR "${ParaView_BINARY_DIR}/VTK")

SET(PARAVIEW_CMAKE_EXTENSIONS "${ParaView_SOURCE_DIR}/VTK/CMake")
SET(PARAVIEW_CMAKE_CLIENT_SERVER_EXTENSION 
  "${ParaView_SOURCE_DIR}/Utilities/VTKClientServer/CMake/vtkWrapClientServer.cmake")
GET_TARGET_PROPERTY(VTK_WRAP_ClientServer_EXE_CONFIG vtkWrapClientServer LOCATION)

SET(PARAVIEW_LIBRARY_DIRS 
  ${LIBRARY_OUTPUT_PATH} ${PARAVIEW_EXTRA_LINK_DIRECTORIES})

SET(PARAVIEW_GUI_INCLUDE_DIRS ${ParaView_SOURCE_DIR}/Qt/Widgets
                              ${ParaView_BINARY_DIR}/Qt/Widgets
                              ${ParaView_SOURCE_DIR}/Qt/Chart
                              ${ParaView_BINARY_DIR}/Qt/Chart
                              ${ParaView_SOURCE_DIR}/Qt/Core
                              ${ParaView_BINARY_DIR}/Qt/Core
                              ${ParaView_SOURCE_DIR}/Qt/Components
                              ${ParaView_BINARY_DIR}/Qt/Components
                              ${ParaView_SOURCE_DIR}/Qt/Testing
                              ${ParaView_BINARY_DIR}/Qt/Testing )
SET(PARAVIEW_KWSYS_INCLUDE_DIRS ${PARAVIEW_INCLUDE_DIRS})
GET_TARGET_PROPERTY(PARAVIEW_GUI_CLIENT_EXECUTABLE paraview${PV_EXE_SUFFIX} LOCATION)
GET_TARGET_PROPERTY(PARAVIEW_BATCH_EXECUTABLE pvbatch${PV_EXE_SUFFIX} LOCATION)
GET_TARGET_PROPERTY(PARAVIEW_PROCESS_XML_EXECUTABLE kwProcessXML LOCATION)
SET(PARAVIEW_SERVER_MANAGER_RESOURCES_DIRECTORY 
  "${ParaView_SOURCE_DIR}/Servers/ServerManager/Resources")



#########################################################################
IF(BUILD_SHARED_LIBS)
  ADD_SUBDIRECTORY(Plugins)
ENDIF(BUILD_SHARED_LIBS)

#########################################################################
IF (PARAVIEW_BUILD_QT_GUI)
  # Applications MUST be configured after plugins, so they can override
  # the plugin configuration when necessary.
  ADD_SUBDIRECTORY(Applications)
ENDIF (PARAVIEW_BUILD_QT_GUI)

# The ParaView library dependencies.
SET(PARAVIEW_LIBRARY_DEPENDS_FILE
  "${ParaView_BINARY_DIR}/ParaViewLibraryDepends.cmake")
EXPORT_LIBRARY_DEPENDENCIES(${PARAVIEW_LIBRARY_DEPENDS_FILE})
# Perform build tree configuration. Install configuration is
# handled below.
CONFIGURE_FILE(
    ${ParaView_SOURCE_DIR}/ParaViewConfig.cmake.in
    ${ParaView_BINARY_DIR}/ParaViewConfig.cmake 
    @ONLY IMMEDIATE)

####################################################################################
# Generate a list of configured plugins for use by external projects

SET(PARAVIEW_PLUGIN_CONFIG_FILE "${ParaView_BINARY_DIR}/ParaViewPluginConfig.cmake")
FILE(WRITE ${PARAVIEW_PLUGIN_CONFIG_FILE} "")
FOREACH(PLUGIN ${PARAVIEW_PLUGIN_CONFIG_LIST})
  IF(PARAVIEW_BUILD_PLUGIN_${PLUGIN})
    FILE(APPEND ${PARAVIEW_PLUGIN_CONFIG_FILE} "SET(PARAVIEW_BUILD_PLUGIN_${PLUGIN} \"ON\")\n")
  ELSE()
    FILE(APPEND ${PARAVIEW_PLUGIN_CONFIG_FILE} "SET(PARAVIEW_BUILD_PLUGIN_${PLUGIN} \"OFF\")\n")
  ENDIF()
ENDFOREACH()

#######################################################################
# INSTALL
IF (NOT PV_INSTALL_NO_DEVELOPMENT)
  MESSAGE(STATUS "Configuring development install...")

  INSTALL(
      FILES ${dynamicHeaders} 
      DESTINATION ${PV_INSTALL_INCLUDE_DIR}
      COMPONENT Development)
  SET(pluginQtComponentConfig
      ${ParaView_SOURCE_DIR}/Qt/Components/pqObjectPanelImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqObjectPanelImplementation.cxx.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqDisplayPanelImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqDisplayPanelImplementation.cxx.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqViewOptionsImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqViewOptionsImplementation.cxx.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqActionGroupImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqActionGroupImplementation.cxx.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqViewFrameActionGroupImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqViewFrameActionGroupImplementation.cxx.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqDockWindowImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqDockWindowImplementation.cxx.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqDisplayPanelDecoratorImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqDisplayPanelDecoratorImplementation.cxx.in
      ${ParaView_SOURCE_DIR}/Qt/Components/pqExtraResources.qrc.in)
  INSTALL(
      FILES ${pluginQtComponentConfig}
      DESTINATION ${PV_INSTALL_INCLUDE_DIR}/Qt/Components
      COMPONENT Development)
  SET(pluginQtCoreConfig
      ${ParaView_SOURCE_DIR}/Qt/Core/pqViewModuleImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Core/pqViewModuleImplementation.cxx.in
      ${ParaView_SOURCE_DIR}/Qt/Core/pqAutoStartImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Core/pqAutoStartImplementation.cxx.in
      ${ParaView_SOURCE_DIR}/Qt/Core/pqPluginImplementation.h.in
      ${ParaView_SOURCE_DIR}/Qt/Core/pqPluginImplementation.cxx.in)
  INSTALL(
      FILES ${pluginQtCoreConfig}
      DESTINATION ${PV_INSTALL_INCLUDE_DIR}/Qt/Core)
  SET(pluginServerManagerConfig
      ${ParaView_SOURCE_DIR}/Servers/Common/vtkPVPluginInit.cxx.in)
  INSTALL(
      FILES ${pluginServerManagerConfig}
      DESTINATION ${PV_INSTALL_INCLUDE_DIR}/Servers/Common/vtkPVPluginInit.cxx.in
      COMPONENT Development)
  SET(cmakeDevFiles
      ${ParaView_SOURCE_DIR}/ParaViewUse.cmake
      ${ParaView_BINARY_DIR}/ParaViewLibraryDepends.cmake
      ${ParaView_SOURCE_DIR}/CMake/ParaViewPlugins.cmake)
  INSTALL(
      FILES ${cmakeDevFiles} 
      DESTINATION ${PV_INSTALL_LIB_DIR}
      COMPONENT Development)

  # Re-configure for the install.
  SET(SOURCE_TREE                                  ${ParaView_SOURCE_DIR})
  SET(ParaView_SOURCE_DIR                         "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_INCLUDE_DIR}")
  SET(PARAVIEW_USE_FILE                           "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}/ParaViewUse.cmake")
  SET(PARAVIEW_VTK_DIR                            "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}")
  SET(PARAVIEW_CMAKE_EXTENSIONS                   "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}")
  SET(PARAVIEW_CMAKE_CLIENT_SERVER_EXTENSION      "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}/vtkWrapClientServer.cmake")
  SET(VTK_WRAP_ClientServer_EXE_CONFIG            "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_BIN_DIR}/vtkWrapClientServer")
  SET(PARAVIEW_INCLUDE_DIRS                       "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_INCLUDE_DIR}")
  SET(PARAVIEW_GUI_INCLUDE_DIRS                   "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_INCLUDE_DIR}")
  SET(PARAVIEW_KWSYS_INCLUDE_DIRS                 "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_INCLUDE_DIR}")
  SET(PARAVIEW_LIBRARY_DIRS                       "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}")
  SET(PARAVIEW_GUI_CLIENT_EXECUTABLE              "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_BIN_DIR}/paraview${PV_EXE_SUFFIX}")
  SET(PARAVIEW_BATCH_EXECUTABLE                   "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_BIN_DIR}/pvbatch${PV_EXE_SUFFIX}")
  SET(PARAVIEW_PROCESS_XML_EXECUTABLE             "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_BIN_DIR}/kwProcessXML${PV_EXE_SUFFIX}")
  SET(PARAVIEW_SERVER_MANAGER_RESOURCES_DIRECTORY "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}/Servers/ServerManager/Resources")
  SET(VTKCS_CONFIG_DIR                            "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}")
  SET(PARAVIEW_LIBRARY_DEPENDS_FILE               "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}/ParaViewLibraryDepends.cmake")
  SET(PARAVIEW_PLUGINS_CMAKE_FILE                 "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}/ParaViewPlugins.cmake")
  SET(VTK_MAKE_INSTANTIATOR                       "${CMAKE_INSTALL_PREFIX}/${PV_INSTALL_LIB_DIR}/CMake/")

  CONFIGURE_FILE(
      "${SOURCE_TREE}/ParaViewConfig.cmake.in"
      "${ParaView_BINARY_DIR}/CMake/tmp/ParaViewConfig.cmake"
      @ONLY IMMEDIATE)

  INSTALL(
      FILES "${ParaView_BINARY_DIR}/CMake/tmp/ParaViewConfig.cmake"
      DESTINATION ${PV_INSTALL_LIB_DIR}
      COMPONENT Development)

ENDIF (NOT PV_INSTALL_NO_DEVELOPMENT)
